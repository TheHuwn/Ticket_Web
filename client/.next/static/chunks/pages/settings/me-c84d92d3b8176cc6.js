(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[927],{6861:function(e,t,r){"use strict";var n=r(4836);t.Z=void 0;var a=n(r(4938)),s=r(5893),o=(0,a.default)((0,s.jsx)("path",{d:"M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z"}),"AddAPhoto");t.Z=o},7957:function(e,t,r){"use strict";var n=r(4836);t.Z=void 0;var a=n(r(4938)),s=r(5893),o=(0,a.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=o},802:function(e,t,r){"use strict";var n=r(4836);t.Z=void 0,function(e,t){if((t||!e||!e.__esModule)&&null!==e&&("object"==typeof e||"function"==typeof e)){var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=a?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=e[s]}n.default=e,r&&r.set(e,n)}}(r(7294));var a=n(r(4938)),s=r(5893);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}var i=(0,a.default)((0,s.jsx)("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"}),"Facebook");t.Z=i},4020:function(e,t,r){"use strict";var n=r(4836);t.Z=void 0,function(e,t){if((t||!e||!e.__esModule)&&null!==e&&("object"==typeof e||"function"==typeof e)){var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=a?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=e[s]}n.default=e,r&&r.set(e,n)}}(r(7294));var a=n(r(4938)),s=r(5893);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}var i=(0,a.default)((0,s.jsx)("path",{d:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z"}),"Instagram");t.Z=i},5084:function(e,t,r){"use strict";var n=r(4836);t.Z=void 0,function(e,t){if((t||!e||!e.__esModule)&&null!==e&&("object"==typeof e||"function"==typeof e)){var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=a?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=e[s]}n.default=e,r&&r.set(e,n)}}(r(7294));var a=n(r(4938)),s=r(5893);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}var i=(0,a.default)((0,s.jsx)("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"}),"Twitter");t.Z=i},4267:function(e,t,r){"use strict";r.d(t,{Z:function(){return Z}});var n=r(7462),a=r(3366),s=r(7294),o=r(3961),i=r(4780),l=r(948),c=r(1657),d=r(1588),u=r(4867);function h(e){return(0,u.Z)("MuiCardContent",e)}(0,d.Z)("MuiCardContent",["root"]);var p=r(5893);let m=["className","component"],f=e=>{let{classes:t}=e;return(0,i.Z)({root:["root"]},h,t)},x=(0,l.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),v=s.forwardRef(function(e,t){let r=(0,c.Z)({props:e,name:"MuiCardContent"}),{className:s,component:i="div"}=r,l=(0,a.Z)(r,m),d=(0,n.Z)({},r,{component:i}),u=f(d);return(0,p.jsx)(x,(0,n.Z)({as:i,className:(0,o.Z)(u.root,s),ownerState:d,ref:t},l))});var Z=v},3965:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(3366),a=r(7462),s=r(7294),o=r(3961),i=r(4780),l=r(1657),c=r(948),d=r(1588),u=r(4867);function h(e){return(0,u.Z)("MuiCardMedia",e)}(0,d.Z)("MuiCardMedia",["root","media","img"]);var p=r(5893);let m=["children","className","component","image","src","style"],f=e=>{let{classes:t,isMediaComponent:r,isImageComponent:n}=e;return(0,i.Z)({root:["root",r&&"media",n&&"img"]},h,t)},x=(0,c.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e,{isMediaComponent:n,isImageComponent:a}=r;return[t.root,n&&t.media,a&&t.img]}})(({ownerState:e})=>(0,a.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),v=["video","audio","picture","iframe","img"],Z=["picture","img"],j=s.forwardRef(function(e,t){let r=(0,l.Z)({props:e,name:"MuiCardMedia"}),{children:s,className:i,component:c="div",image:d,src:u,style:h}=r,j=(0,n.Z)(r,m),g=-1!==v.indexOf(c),y=!g&&d?(0,a.Z)({backgroundImage:`url("${d}")`},h):h,b=(0,a.Z)({},r,{component:c,isMediaComponent:g,isImageComponent:-1!==Z.indexOf(c)}),C=f(b);return(0,p.jsx)(x,(0,a.Z)({className:(0,o.Z)(C.root,i),as:c,role:!g&&d?"img":void 0,ref:t,style:y,ownerState:b,src:g?d||u:void 0},j,{children:s}))});var g=j},6242:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var n=r(7462),a=r(3366),s=r(7294),o=r(3961),i=r(4780),l=r(948),c=r(1657),d=r(629),u=r(1588),h=r(4867);function p(e){return(0,h.Z)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var m=r(5893);let f=["className","raised"],x=e=>{let{classes:t}=e;return(0,i.Z)({root:["root"]},p,t)},v=(0,l.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),Z=s.forwardRef(function(e,t){let r=(0,c.Z)({props:e,name:"MuiCard"}),{className:s,raised:i=!1}=r,l=(0,a.Z)(r,f),d=(0,n.Z)({},r,{raised:i}),u=x(d);return(0,m.jsx)(v,(0,n.Z)({className:(0,o.Z)(u.root,s),elevation:i?8:void 0,ref:t,ownerState:d},l))});var j=Z},835:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/me",function(){return r(2231)}])},7057:function(e,t,r){"use strict";var n=r(5893),a=r(1737),s=r(2401),o=r(6154),i=r(7294);t.Z=e=>{let{method:t,url:r,body:l,onSuccess:c}=e,[d,u]=(0,i.useState)(null),h=async()=>{u(null);try{let e=await o.Z[t](r,l);return c&&c(e.data),e.data}catch(e){u((0,n.jsxs)(a.Z,{severity:"error",sx:{margin:"15px 0px"},children:[(0,n.jsx)(s.Z,{children:"Ooopps..."}),(0,n.jsx)("ul",{className:"my-0",children:e.response.data.errors.map(e=>(0,n.jsx)("li",{children:e.message},e.message))})]}))}};return{doRequest:h,errors:d}}},2231:function(e,t,r){"use strict";r.r(t);var n=r(5893),a=r(7294),s=r(1163),o=r(5861),i=r(7357),l=r(5582),c=r(6886),d=r(6242),u=r(3965),h=r(3946),p=r(4267),m=r(3795),f=r(9417),x=r(657),v=r(7645),Z=r(6580),j=r(492),g=r(1425),y=r(6861),b=r(7057),C=r(7957),w=r(4020),P=r(5084),M=r(802),O=r(1649),k=r(5363);t.default=e=>{let{currentUser:t}=e,r=(0,O.I0)();(0,s.useRouter)();let[N,E]=(0,a.useState)(""),[S,_]=(0,a.useState)(""),[R,W]=(0,a.useState)(""),[D,V]=(0,a.useState)(""),[z,B]=(0,a.useState)(""),[T,q]=(0,a.useState)(""),[I,A]=(0,a.useState)(""),[H,Y]=(0,a.useState)(""),[F,L]=a.useState(!1),[X,J]=a.useState(!1),U=new FormData;if(!t)return(0,n.jsx)(o.Z,{margin:10,textAlign:"center",children:"Not Authorized!"});(0,a.useEffect)(()=>{_(t.email),V(t.jobTitle),E(t.name),W(t.phone)},[]);let{errors:G,doRequest:$}=(0,b.Z)({method:"patch",url:"/api/users/update-current-user",body:U,onSuccess:async()=>{var e;let t=await fetch("/api/users/currentuser"),n=await t.json(),a=(null===(e=n.data)||void 0===e?void 0:e.currentUser)||n.currentUser;_(a.email),V(a.jobTitle),E(a.name),W(a.phone),B(a.photo),r((0,k.Sm)({severity:"success",message:"Your Data has been Changed successfully \uD83E\uDEE1"})),r((0,k.jY)(!0)),setTimeout(()=>{r((0,k.jY)(!1)),L(!1)},2e3)}}),{errors:K,doRequest:Q}=(0,b.Z)({method:"patch",url:"/api/users/change-password",body:{currentPassword:T,newPassword:I,newPasswordConfirm:H},onSuccess:()=>{r((0,k.Sm)({severity:"success",message:"Your Password has been Changed successfully \uD83E\uDEE1"})),r((0,k.jY)(!0)),setTimeout(()=>{r((0,k.jY)(!1))},3e3)}}),ee=async e=>{U.append("email",S),U.append("name",N),U.append("phone",R),U.append("jobTitle",D),z&&U.append("photo",z);try{await $(),null!==G&&L(!1)}catch(e){console.log(e)}},et=async e=>{await Q(),null!==K&&J(!1)};return(0,n.jsxs)(i.Z,{className:"vh-100",sx:{backgroundColor:"#f4f5f7",backgroundImage:"url(/imgs/ticketBG.jpg)"},children:[(0,n.jsx)(l.Z,{className:"py-5 h-100",children:(0,n.jsx)(c.ZP,{container:!0,justifyContent:"center",alignItems:"center",className:"h-100",children:(0,n.jsx)(c.ZP,{item:!0,lg:6,className:"mb-4 mb-lg-0",children:(0,n.jsx)(d.Z,{sx:{mb:3,borderRadius:".5rem"},children:(0,n.jsxs)(c.ZP,{container:!0,children:[(0,n.jsxs)(c.ZP,{item:!0,md:4,className:"gradient-custom text-center text-white",sx:{borderTopLeftRadius:".5rem",borderBottomLeftRadius:".5rem",display:"flex","flex-direction":"column","align-items":"center",flexBasis:"70%"},children:[(0,n.jsx)(u.Z,{component:"img",src:z||t.photo,alt:"Image",className:"my-5",sx:{width:"100px",borderRadius:"50%",height:"100px"}}),(0,n.jsx)(o.Z,{variant:"h5",children:N||t.name}),(0,n.jsx)(o.Z,{variant:"body1",children:D||t.jobTitle||"Job Title"}),(0,n.jsx)(h.Z,{onClick:e=>L(!0),children:(0,n.jsx)(C.Z,{})})]}),(0,n.jsxs)(c.ZP,{item:!0,md:8,children:[(0,n.jsxs)(p.Z,{className:"p-4",children:[(0,n.jsx)(o.Z,{variant:"h6",children:"Information"}),(0,n.jsx)("hr",{sx:{mt:0,mb:4}}),(0,n.jsxs)(c.ZP,{container:!0,sx:{pt:1},children:[(0,n.jsxs)(c.ZP,{item:!0,xs:6,sx:{mb:3},children:[(0,n.jsx)(o.Z,{variant:"h6",children:"Email"}),(0,n.jsx)(o.Z,{variant:"body2",color:"text.secondary",children:S||t.email})]}),(0,n.jsxs)(c.ZP,{item:!0,xs:6,sx:{mb:3},children:[(0,n.jsx)(o.Z,{variant:"h6",children:"Phone"}),(0,n.jsx)(o.Z,{variant:"body2",color:"text.secondary",children:R||t.phone||"xxx-xxx-xxx"})]})]}),(0,n.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"start"},children:[(0,n.jsx)(m.Z,{href:"#!",children:(0,n.jsx)(h.Z,{children:(0,n.jsx)(M.Z,{color:"#1976d2"})})}),(0,n.jsx)(m.Z,{href:"#!",children:(0,n.jsx)(h.Z,{children:(0,n.jsx)(P.Z,{color:"#1976d2"})})}),(0,n.jsx)(m.Z,{href:"#!",children:(0,n.jsx)(h.Z,{children:(0,n.jsx)(w.Z,{color:"#1976d2"})})})]})]}),(0,n.jsx)("hr",{sx:{mt:0,mb:4}}),(0,n.jsx)(p.Z,{children:(0,n.jsx)(f.Z,{onClick:e=>J(!0),children:"Change Password"})})]})]})})})})}),(0,n.jsxs)(x.Z,{open:F,onClose:()=>L(!1),children:[(0,n.jsx)(v.Z,{className:"dialog-title",children:"Edit Personal Data"}),(0,n.jsxs)(Z.Z,{children:[(0,n.jsx)(h.Z,{sx:{marginBottom:"10px"},children:(0,n.jsxs)("label",{htmlFor:"photo-input",children:[(0,n.jsx)(y.Z,{sx:{"font-size":"34px",position:"relative",left:"50%",transform:"translateX(-50%)",color:"#1976d2"}}),(0,n.jsx)("input",{id:"photo-input",type:"file",hidden:!0,required:!0,onChange:e=>{let t=e.target.files[0];B(t)}})]})}),(0,n.jsx)(j.Z,{style:{marginBottom:"20px"},margin:"dense",label:"Email",type:"text",fullWidth:!0,required:!0,value:S,onChange:e=>_(e.target.value)}),(0,n.jsx)(j.Z,{style:{marginBottom:"20px"},margin:"dense",label:"Name",type:"text",fullWidth:!0,required:!0,value:N,onChange:e=>E(e.target.value)}),(0,n.jsx)(j.Z,{style:{marginBottom:"20px"},margin:"dense",label:"Job Title",type:"text",fullWidth:!0,required:!0,value:D,onChange:e=>V(e.target.value)}),(0,n.jsx)(j.Z,{style:{marginBottom:"20px"},margin:"dense",label:"Phone Number",type:"tel",fullWidth:!0,required:!0,value:R,onChange:e=>W(e.target.value)}),G]}),(0,n.jsxs)(g.Z,{children:[(0,n.jsx)(f.Z,{onClick:ee,variant:"contained",children:"Edit"}),(0,n.jsx)(f.Z,{onClick:()=>L(!1),children:"close"})]})]}),(0,n.jsxs)(x.Z,{open:X,onClose:()=>J(!1),children:[(0,n.jsx)(v.Z,{className:"dialog-title",children:"Edit Password"}),(0,n.jsxs)(Z.Z,{children:[(0,n.jsx)(j.Z,{style:{marginBottom:"20px"},margin:"dense",label:"Current Password",type:"text",fullWidth:!0,required:!0,value:T,onChange:e=>q(e.target.value)}),(0,n.jsx)(j.Z,{style:{marginBottom:"20px"},margin:"dense",label:"New Password",type:"text",fullWidth:!0,required:!0,value:I,onChange:e=>A(e.target.value)}),(0,n.jsx)(j.Z,{style:{marginBottom:"20px"},margin:"dense",label:"Confirm New Password",type:"text",fullWidth:!0,required:!0,value:H,onChange:e=>Y(e.target.value)}),K]}),(0,n.jsxs)(g.Z,{children:[(0,n.jsx)(f.Z,{onClick:et,variant:"contained",children:"Edit"}),(0,n.jsx)(f.Z,{onClick:()=>J(!1),children:"close"})]})]})]})}}},function(e){e.O(0,[202,886,792,774,888,179],function(){return e(e.s=835)}),_N_E=e.O()}]);